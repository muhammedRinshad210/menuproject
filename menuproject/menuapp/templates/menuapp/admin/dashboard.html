<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body{
            background:#f5f5f5;
        }
        .section-box{
            background:white;
            padding:20px;
            border-radius:8px;
            box-shadow:0 3px 8px rgba(0,0,0,0.1);
            margin-bottom:30px;
        }
    </style>
</head>

<body class="p-4">

<div class="container">

<!-- ================= CAROUSEL SECTION ================= -->
<div class="section-box">

<h2>Add / Edit Carousel</h2>

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" name="carousel_submit" class="btn btn-dark">
    Save
</button>

</form>

<hr>

<h4>Existing Carousels</h4>

<table class="table table-bordered">
<tr>
    <th>Image</th>
    <th>Title</th>
    <th>Quantity</th>
</tr>

{% for item in carousels %}
<tr>
    <td><img src="{{ item.image.url }}" width="120"></td>
    <td>{{ item.title }}</td>
    <td>
        <a href="{% url 'edit_carousel' item.id %}" class="btn btn-warning btn-sm">Edit</a>
        <a href="{% url 'delete_carousel' item.id %}"
           class="btn btn-danger btn-sm"
           onclick="return confirm('Delete this item?')">
           Delete
        </a>
    </td>
</tr>
{% endfor %}

</table>
</div>


<!-- ================= PRODUCT SECTION ================= -->



<div class="section-box">

<h2>Add Product</h2>

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    {{ product_form.as_p }}
    <button type="submit" name="product_submit" class="btn btn-success">
        Add Product
    </button>
</form>

<hr>

<h4>Products List</h4>

<table class="table table-bordered">
<tr>
    <th>Image</th>
    <th>Name</th>
    <th>Category</th>
    <th>Price</th>
    <th>Actions</th>
    <th>Stock</th>
</tr>

{% for product in products %}
<tr>
    <td>
        <img src="{{ product.image.url }}" width="100">
    </td>
    <td>{{ product.name }}</td>
    <td>{{ product.category }}</td>
    <td>₹ {{ product.price }}</td>
    <td>{{ product.quantity }}</td>


    <td>
        <a href="{% url 'edit_product' product.id %}"
           class="btn btn-warning btn-sm">Edit</a>

        <a href="{% url 'delete_product' product.id %}"
           class="btn btn-danger btn-sm"
           onclick="return confirm('Delete this product?')">
           Delete
        </a>
    </td>
</tr>
{% empty %}
<tr>
    <td colspan="5" class="text-center">No products added yet.</td>
</tr>
{% endfor %}

</table>

</div>

</div>

<!-- ================= SPECIAL ITEMS SECTION ================= -->

<div class="section-box">

<h2>Add Special Item</h2>

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    {{ special_form.as_p }}
    <button type="submit" name="special_submit" class="btn btn-primary">
        Add Special Item
    </button>
</form>

<hr>

<h4>Special Items List</h4>

<table class="table table-bordered">
<tr>
    <th>Image</th>
    <th>Name</th>
    <th>Price</th>
    <th>Description</th>
    <th>Actions</th>
</tr>

{% for item in special_items %}
<tr>
    <td>
        <img src="{{ item.image.url }}" width="100">
    </td>
    <td>{{ item.name }}</td>
    <td>₹ {{ item.price }}</td>
    <td>{{ item.description|truncatewords:10 }}</td>
    <td>
        <a href="{% url 'edit_special' item.id %}"
           class="btn btn-warning btn-sm">Edit</a>

        <a href="{% url 'delete_special' item.id %}"
           class="btn btn-danger btn-sm"
           onclick="return confirm('Delete this special item?')">
           Delete
        </a>
    </td>
</tr>
{% empty %}
<tr>
    <td colspan="5" class="text-center">No special items added yet.</td>
</tr>
{% endfor %}

</table>

</div>



</body>
</html>
